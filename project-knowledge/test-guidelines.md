# 소프트웨어 테스트 원칙 가이드

## 목차

1. [좋은 테스트의 기본 원칙: FIRST](#좋은-테스트의-기본-원칙-first)
2. [테스트 범위 결정 원칙: Right-BICEP](#테스트-범위-결정-원칙-right-bicep)
3. [테스트 조건 고려 원칙: CORRECT](#테스트-조건-고려-원칙-correct)
4. [테스트 구조화 방법: Given-When-Then](#테스트-구조화-방법-given-when-then)
5. [테스트 코드 구성 요소: Describe-It-Expect](#테스트-코드-구성-요소-describe-it-expect)

## 모든 테스트의 전제

- **내부 구현 사항을 자세히 테스트하지 않습니다.**
- **내부 구현 사항은 자주 변경되기 때문에 실행 결과를 테스트하는 데 집중합니다.**

## 좋은 테스트의 기본 원칙: FIRST

테스트 케이스를 작성할 때 고려해야 할 기본 원칙입니다.

### F (Fast, 빠르게 실행되어야 한다)

- 파일, DB, 네트워크 의존성을 낮춥니다.
- 테스트는 빠르게 실행되어야 개발 생산성이 향상됩니다.

### I (Isolated, 서로 독립적이어야 한다)

- 테스트 간 의존성이 없어야 합니다.
- 각 테스트는 독립적으로 실행할 수 있어야 합니다.

### R (Repeatable, 실행할 때마다 동일한 결과를 반환한다)

- 외부 환경에 영향을 받지 않아야 합니다.
- 어떤 환경에서도 일관된 결과를 보여야 합니다.

### S (Self-Validating, 성공 또는 실패를 명확하게 나타내야 한다)

- 결과를 직접 확인할 수 있어야 합니다.
- 테스트 결과가 명확해야 합니다.

### T (Timely, 적절한 시기에 작성되어야 한다)

- 배포전, TDD를 권장합니다.
- 코드 작성과 함께 테스트도 작성합니다.

## 테스트 범위 결정 원칙: Right-BICEP

테스트의 범위를 결정할 때 고려해야 할 요소들을 나타내는 원칙입니다.

### R (Right, 적절한 수준의 테스트를 작성한다)

- output에 대한 검증을 반드시 수행합니다.
- 모든 요구사항이 정상적으로 동작하는지 확인합니다.

### B (Boundary, 경계 조건을 테스트해야 한다)

- 잘못된 포맷의 입력, null, 특수문자, 작은 수, 큰 수, 중복, 순서 등을 테스트합니다.
- 경계값 테스트는 오류를 발견하는 효과적인 방법입니다.

### I (Inverse, 반대 케이스도 고려하여 일관성을 유지 한다)

- 특정 조건이 참일 때 테스트하고 거짓일 때도 테스트합니다.
- 반대 케이스도 고려하여 테스트의 일관성을 확보합니다.

### C (Cross-check, 여러 조건을 조합하여 테스트하여 교차 검증한다)

- 추가된 배열 이전 === 전체 배열 - 이전 배열
- 다양한 조건의 조합으로 테스트하여 완전성을 확보합니다.

### E (Error conditions, 에러 처리 코드를 테스트해야 한다)

- 예외 처리, 오류 메시지 등을 확인합니다.
- 예외 상황에서의 동작을 테스트합니다(네트워크, 메모리, DB).

### P (Performance, 성능 테스트를 통해 수치로 확인한다)

- 성능 개선의 척도를 데이터화합니다.
- 특정 함수나 메서드의 실행 시간, 메모리 사용량 등을 측정합니다.

## 테스트 조건 고려 원칙: CORRECT

테스트 케이스 작성 시 고려해야 할 조건들을 나타내는 원칙입니다.

### C (Conformance, 정의된 요구사항과 규격을 준수하는지 테스트 한다)

- 요구사항, 특정 포맷, API 문서와 일치하는지 여부를 확인합니다.

### O (Ordering, 순서가 조건이 되는 경우 테스트를 해야한다)

- 정렬기능 등 순서가 중요한 경우에 수행합니다.

### R (Range, 입력 값의 범위를 고려한 테스트가 필요하다)

- 경계 값뿐만 아니라 중간 값도 테스트해야 합니다.

### R (Reference, 외부 의존성이 있는 경우 모의, 참조하여 테스트 한다)

- ~일때, ~가 되었을 때, 어떤 특정한 상황/상태일 때 @한 등 작을 수행하는 것을 테스트합니다.

### E (Existence, 객체나 값이 존재하는지 여부를 테스트)

- null, undefined, "", 0 등 값이 존재하지 않을 때를 고려합니다.

### C (Cardinality, 컬렉션의 크기나 개수를 테스트해야 합니다)

- 0-1-N의 법칙에 따라
- 하나도 없을 때, 하나만 있을 때, 여러개가 있을 때 크기나 개수를 검증합니다.

### T (Time, 시간과 관련된 테스트가 필요하다)

- 상대적, 절대적, 동시의 작업 수행시 테스트 필요
- 순서가 맞지 않은 경우, 소비한 시간, 지역의 시간 등 타이머 함수나 비동기 작업의 결과를 테스트합니다.

## 테스트 구조화 방법: Given-When-Then

테스트의 구조를 나타내는 방법입니다.

### Given (준비, Arrange / 재사용)

- beforeAll, beforeEach
- 테스트에 필요한 환경과 데이터를 준비합니다.

### When (실행, Act)

- 의도적으로 실행하기
- beforeAll, beforeEach
- 테스트하려는 기능을 실행합니다.

### Then (검증, Assert / Expect)

- afterAll, afterEach
- 실행 결과를 검증합니다.

## 테스트 코드 구성 요소: Describe-It-Expect

테스트 코드 구성의 핵심 요소입니다.

### describe

- 관련된 테스트 케이스들을 그룹화합니다.
- 테스트 케이스들의 범위를 지정합니다.
- 여러 개의 it 블록이 포함될 수 있습니다.

### it

- 개별 테스트 케이스를 정의하는 데 사용합니다.
- it 블록 내부에 실제 테스트 로직을 작성합니다.

### expect

- 실제 테스트 검증을 작성합니다.
- 특정 값이나 객체를 받아서 matcher 함수와 함께 사용합니다.
- matcher 함수는 실제 값과 예상 값을 비교하여 테스트가 통과 여부를 결정합니다.
